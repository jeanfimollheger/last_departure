{% extends "base.html" %}

{% block title %}{{ project.name }}{% endblock %}

{% block content %}
<h1>{{ project.name }}</h1>

<p>
    {% if project.deadline %}
        <strong>Deadline:</strong> {{ project.deadline }}
    {% endif %}
</p>

<p>
    <strong>Private:</strong>
    {{ project.private|yesno:"Yes,No" }}
</p>

<hr>
    <div class="mt-3">
        <a href="{% url 'project_update' project.slug %}" class="btn btn-outline-primary">
            Edit
        </a>

        <a href="{% url 'project_delete' project.slug %}" class="btn btn-outline-danger">
            Delete
        </a>
    </div>
<hr>

<h2>Tasks</h2>

{% if project.tasks.all %}
    <ul class="list-group">
        {% for task in project.tasks.all %}
            <li class="list-group-item d-flex justify-content-between">
                {{ task.description }}

                {% if task.done %}
                    <span class="badge bg-success">Done</span>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No tasks yet.</p>
{% endif %}

<a href="{% url 'task_create' project.slug %}" class="btn btn-primary mt-3">
    Create task
</a>
<hr>
<a href="{% url 'project_list' %}" class="btn btn-secondary mt-3">
    Back to projects
</a>
{% endblock %}
